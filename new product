<!DOCTYPE html>
<html>
<head>
  <title>æƒ…äººèŠ‚å¿«ä¹</title>
  <style>
    /* æç®€ç‰ˆæ ·å¼ */
    .level { display: none; min-height: 100vh; padding: 20px; }
    .active { display: block; }
    #heart { width: 50px; transition: all 0.3s; }
    .shake { animation: shake 0.5s; }
    @keyframes shake { 0%,100% {transform: translateX(0);} 25% {transform: translateX(10px);} 75% {transform: translateX(-10px);} }
  </style>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>çˆ±çš„å¯†ç </title>
  <style>
    .level {
      display: none;
    }
    .active {
      display: block;
    }
  </style>
</head>
<body>
<div id="level1" class="level active">
    <h2>â¤ï¸ ç¬¬ä¸€å…³ï¼šçˆ±çš„å¯†ç </h2>
    <p>è¯·è¾“å…¥ä½ ä»¬ç›¸é‡çš„æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYYMMDDï¼‰</p>
    <input type="number" id="password">
    <button onclick="checkPassword()">è§£é”ä¸‹ä¸€å…³</button>
  </div>
  <!-- ç¬¬äºŒå…³ï¼šå¿ƒè·³æµ‹è¯• -->
  <div id="level2" class="level">
    <h2>ğŸ’“ ç¬¬äºŒå…³ï¼šå¿ƒè·³æŒ‘æˆ˜</h2>
    <img id="heart" src="data:image/png;base64ï¼›C:\Users\LENOVO\Downloads">
    <p>è¿ç»­ç‚¹å‡»çˆ±å¿ƒ10æ¬¡ï¼å½“å‰æ¬¡æ•°ï¼š<span id="count">0</span></p>
  </div>

  <!-- ç¬¬ä¸‰å…³ï¼šæœ€ç»ˆå‘Šç™½ -->
  <div id="level3" class="level">
    <h2>ğŸ‰ æœ€ç»ˆå…³å¡ï¼</h2>
    <button onclick="showLove()">ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</button>
    <div id="loveEffect" style="display:none;">
      <h1>æˆ‘å®£ä½ ï¼</h1>
      <p>ä»ç›¸é‡é‚£å¤©èµ·ï¼Œæˆ‘çš„ä¸–ç•Œå¼€å§‹è½¬åŠ¨</p>
      <canvas id="particles"></canvas>
	  <audio autoplay loop src="D:\CloudMusic\VipSongsDownload\éƒä¸€å‡¡ å¼ è£æ˜Š - å¦‚æœè¯´.mp3" controls></audio>
    </div>
  </div>

<script>
// æç®€ç‰ˆæ ¸å¿ƒé€»è¾‘
let currentLevel = 1;
const PASS = '20240510'; // æ”¹æˆä½ ä»¬çš„çºªå¿µæ—¥

// å…³å¡åˆ‡æ¢
function switchLevel(newLevel) {
  document.querySelector('.active').classList.remove('active');
  document.getElementById(`level${newLevel}`).classList.add('active');
  currentLevel = newLevel;
}

// ç¬¬ä¸€å…³éªŒè¯
function checkPassword() {
  if(document.getElementById('password').value === PASS) {
    switchLevel(2);
    initHeartGame();
  } else {
    alert('å¯†ç é”™è¯¯ï¼Œæç¤ºï¼šç¬¬ä¸€æ¬¡è§é¢æ—¥æœŸ');
  }
}

// ç¬¬äºŒå…³å¿ƒè·³æ¸¸æˆ
function initHeartGame() {
  let count = 0;
  const heart = document.getElementById('heart');
  
  heart.onclick = () => {
    count++;
    heart.classList.add('shake');
    document.getElementById('count').textContent = count;
    setTimeout(() => heart.classList.remove('shake'), 300);
    
    if(count >= 10) {
      switchLevel(3);
      initParticles();
    }
  }
}

// ç¬¬ä¸‰å…³ç²’å­ç‰¹æ•ˆ
function initParticles() {
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = 300;

  // ç®€å•ç²’å­åŠ¨ç”»
  let particles = Array(50).fill().map(() => ({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    speed: Math.random()*2+1
  }));

  function animate() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p => {
      p.y -= p.speed;
      if(p.y < 0) p.y = canvas.height;
      ctx.fillStyle = `hsl(${Math.random()*360}, 70%, 60%)`;
      ctx.fillRect(p.x, p.y, 5, 5);
    });
    requestAnimationFrame(animate);
  }
  animate();
}

function showLove() {
  document.getElementById('loveEffect').style.display = 'block';
}
</script>
</body>
</html>
